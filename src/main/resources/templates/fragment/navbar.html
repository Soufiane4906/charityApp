<!DOCTYPE html>
<html lang="en" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head th:replace="fragments :: boots_trap">

<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Charity App</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="#" th:href="@{/}">Home</a>
                </li>
                <li class="nav-item" sec:authorize="isAuthenticated()">
                    <a class="nav-link" href="#" th:href="@{/users}">Users</a>
                </li>
                <li class="nav-item" sec:authorize="!isAuthenticated()">
                    <a class="nav-link" href="#" th:href="@{/registration/registration-form}">Register</a>
                </li>
                <li class="nav-item" sec:authorize="!isAuthenticated()">
                    <a class="nav-link" href="#" th:href="@{/login}">Login</a>
                </li>
                <li class="nav-item" sec:authorize="isAuthenticated()">
                    <a class="nav-link" href="#" th:href="@{/logout}">Logout</a>
                </li>
                <li class="nav-item"  >
                    <a class="nav-link" href="#" th:href="@{/charityActions}">Charity Actions</a>
                </li>
                <li class="nav-item"  >
                    <a class="nav-link" href="#" th:href="@{/donations}">Donations</a>
                </li>
                <li class="nav-item" sec:authorize="isAuthenticated()">
                    <a class="nav-link" href="#" th:href="@{/users/profile}">Profile</a>
                </li>
                <li class="nav-item">
                    <select name="languages" id="language-select" onchange="handleLanguageChange()">
                        <option value="" th:text="#{data.choose}"   ></option>
                        <option value="en" th:text="#{data.Anglais}"></option>
                        <option value="fr" th:text="#{data.Francais}"></option>
                        <option value="ar" th:text="#{data.Arabic}"></option>
                    </select>
                </li>
            </ul>
        </div>
    </div>
</nav>

</body>
<script>
    function en_click() {
        window.location.replace("index?lang=en")

    }
    function fr_click() {
        window.location.replace("index?lang=fr")

    }
    function ar_click() {
        window.location.replace("index?lang=ar")

    }


    function handleLanguageChange() {
        const select = document.getElementById('language-select');
        const value = select.value;

        if (value === 'en') {
            en_click();
        } else if (value === 'fr') {
            fr_click();
        }
        else if (value === 'ar') {
            ar_click();
        }
    }

</script>
</html>